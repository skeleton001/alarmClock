!function(){"use strict";angular.module("alarmClock",["ui.router","ui.bootstrap","ngAnimate","toastr","LocalStorageModule"])}(),function(){"use strict";function a(a,e){a.allowHtml=!0,a.timeOut=1e4,a.positionClass="toast-bottom-right",a.preventDuplicates=!0,a.progressBar=!0,e.setPrefix("alarmClock")}a.$inject=["toastrConfig","localStorageServiceProvider"],angular.module("alarmClock").config(a)}(),function(){"use strict";function a(a,e){a.state("alarm",{url:"/home",templateUrl:"app/components/alarm/alarm.html",controller:"AlarmController",controllerAs:"alarm"}).state("alarm.new",{url:"/newAlarm",templateUrl:"app/components/alarm/newAlarm.html"}).state("alarm.list",{url:"/list",templateUrl:"app/components/alarm/list.html"}),e.otherwise("/home/list")}a.$inject=["$stateProvider","$urlRouterProvider"],angular.module("alarmClock").config(a)}(),function(){"use strict";function a(a,e,t,r,l){function m(){b.getTime(),b.alarm.time.toTimeString()<b.time.toTimeString()?b.alarm.isTomorrow=!0:b.alarm.isTomorrow=!1}function i(){return{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}}function o(){b.someSelected=Object.keys(b.selection).some(function(a){return b.selection[a]}),b.someSelected||(b.alarm.isRepeat=!1,b.selection=reloadSelection())}function n(){b.alarm.repeatDays=[],b.alarm.isRepeat&&angular.forEach(b.selection,function(a,e){a&&b.alarm.repeatDays.push(e)})}function s(a,e){a=l("date")(a,"shortTime"),t.info("It's "+a,""+e)}function c(){b.time=new Date}function u(){e.set("alarms",b.alarms)}function g(){for(var a=0;a<b._alarmsObj.length;a++){if(b.alarm.time.setSeconds(0),b.alarm.time.toTimeString()==b._alarmsObj[a].time.toTimeString()){b.isExist=!0;break}b.isExist=!1}}function f(){e.clearAll(),b.alarms=[],b._alarmsObj=[]}function p(){b.sortDays(),b.isTomorrowCheck(),b.alarm.time.setSeconds(0),b.alarm.time=b.alarm.time.toGMTString(),b._alarm=angular.toJson(b.alarm),b.alarms.push(b._alarm),u(),b.alarm.time=new Date,r.go("alarm.list")}var b=this;b.hstep=1,b.mstep=1,b.ismeridian=!0,b.meridian="shortTime",b.time=new Date,b.days=[{name:"SUN",id:"0"},{name:"MON",id:"1"},{name:"TUE",id:"2"},{name:"WED",id:"3"},{name:"THU",id:"4"},{name:"FRI",id:"5"},{name:"SAT",id:"6"}],b.alarms=[],b._alarmsObj=[],e.get("alarms")&&(b.alarms=e.get("alarms")),b.alarm={},b.alarm.title="Alarm",b.alarm.time=new Date,b.alarm.isActive=!0,b.alarm.isRepeat=!1,b.alarm.isTomorrow=!1,b.alarm.repeatDays=[],b.isExist=!1,b.isTomorrowCheck=m,b.selection=i(),b.checkboxChanged=o,b.sortDays=n,b.setAlarm=p,b.changed=g,b.ring=s,b.getTime=c,b.deleteAllAlarm=f,a(function(){b.getTime(),angular.forEach(b.alarms,function(a,e){b.getTime(),b._alarmObj=JSON.parse(a),b._alarmObj.time=new Date(b._alarmObj.time),b._alarmObj.time.toTimeString()<=b.time.toTimeString()?(b._alarmObj.isActive&&!b._alarmObj.isTomorrow&&(b._alarmObj.isRepeat?angular.forEach(b._alarmObj.repeatDays,function(a){a==b.time.getDay()&&b.ring(b._alarmObj.time,b._alarmObj.title)}):(b.ring(b._alarmObj.time,b._alarmObj.title),b._alarmObj.isActive=!1)),b._alarmObj.isTomorrow=!0):b._alarmObj.isTomorrow=!1,b.alarms[e]=angular.toJson(b._alarmObj),b._alarmsObj[e]=b._alarmObj}),u()},990)}a.$inject=["$interval","localStorageService","toastr","$state","$filter"],angular.module("alarmClock").controller("AlarmController",a)}();